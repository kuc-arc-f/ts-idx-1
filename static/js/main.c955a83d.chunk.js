(this.webpackJsonpreact_ts=this.webpackJsonpreact_ts||[]).push([[0],{29:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),s=n(21),o=n.n(s),r=(n(29),n(2)),i=n(9),l=n(0);var d=function(){return Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("h3",{children:"Home"})})},b=n(7),u=n.n(b),j=n(11),h=n(3),m=n(4),p=n(6),O=n(5);var v=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h3",{children:"Test111"}),Object(l.jsx)("hr",{})]})}}]),n}(a.a.Component),f=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(r.b,{to:"/",children:"[ Home ] "}),Object(l.jsx)(r.b,{to:"/tasks",className:"ml-2",children:"[ Task ] "}),Object(l.jsx)(r.b,{to:"/todos",className:"ml-2",children:"[ Todo ] "})]}),Object(l.jsx)("hr",{className:"mb-0"})]})}}]),n}(a.a.Component),x=f,k=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:this.props.obj.id}),Object(l.jsx)("td",{children:this.props.obj.title}),Object(l.jsx)("td",{children:this.props.obj.content}),Object(l.jsxs)("td",{children:[Object(l.jsx)(r.b,{to:"/task_show/".concat(this.props.obj.id),className:"btn btn-sm btn-outline-primary",children:"Show"}),Object(l.jsx)(r.b,{to:"/task_edit/".concat(this.props.obj.id),className:"btn btn-sm btn-outline-primary",children:"Edit"})]}),Object(l.jsx)("td",{})]})}}]),n}(c.Component),y=k,_=n(8),N=function(){return{DB_NAME:"task_idx_kuc_db",DB_VERSION:1,DB_STORE:{tasks:"++id, title, content ,created_at"}}},g=function(t,e){if(e||(e="YYYY-MM-DD hh:mm:ss.SSS"),(e=(e=(e=(e=(e=(e=e.replace(/YYYY/g,t.getFullYear())).replace(/MM/g,("0"+(t.getMonth()+1)).slice(-2))).replace(/DD/g,("0"+t.getDate()).slice(-2))).replace(/hh/g,("0"+t.getHours()).slice(-2))).replace(/mm/g,("0"+t.getMinutes()).slice(-2))).replace(/ss/g,("0"+t.getSeconds()).slice(-2))).match(/S/g))for(var n=("00"+t.getMilliseconds()).slice(-3),c=e.match(/S/g).length,a=0;a<c;a++)e=e.replace(/S/,n.substring(a,a+1));return e},w={get_item:function(t,e){var n=null;return t.forEach((function(t){t.id===e&&(n=t)})),n},get_reverse_items:function(t){var e=[];return t.forEach((function(t){var n=t.created_at;n=g(n,"YYYY-MM-DD hh:mm"),t.created_at=n,e.unshift(t)})),e}},C=N(),S=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(t){var c;return Object(h.a)(this,n),(c=e.call(this,t)).db=new _.a(C.DB_NAME),c.state={data:[]},c}return Object(m.a)(n,[{key:"componentDidMount",value:function(){console.log(C.DB_NAME),this.db.version(C.DB_VERSION).stores(C.DB_STORE),this.get_items()}},{key:"get_items",value:function(){var t=this;this.db.tasks.toArray().then((function(e){var n=w.get_reverse_items(e);t.setState({data:n}),console.log(n)}))}},{key:"tabRow",value:function(){if(this.state.data instanceof Array)return this.state.data.map((function(t,e){return Object(l.jsx)(y,{obj:t},e)}))}},{key:"handleClickExport",value:function(){console.log("handleClickExport");var t=JSON.stringify(this.state.data),e=new Blob([t],{type:"application/json"}),n="tasks.json",c=window.navigator;c.msSaveBlob?(console.log("#-msSaveBlob"),c.msSaveBlob(e,n),c.msSaveOrOpenBlob(e,n)):(console.log("#-msSaveBlob-false"),document.querySelector("#download").href=window.URL.createObjectURL(e))}},{key:"render",value:function(){var t=this;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h3",{children:"Task - index"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-6",children:Object(l.jsx)(r.b,{to:"/task_create",className:"btn btn-sm btn-primary",children:"+ Create"})}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("a",{id:"download",href:"",download:"tasks.json",onClick:function(){return t.handleClickExport()},className:"btn btn-outline-primary btn-sm",children:"Export"}),Object(l.jsx)(r.b,{to:"/task_import",target:"_blank",className:"btn btn-sm btn-outline-primary ml-2",children:"Import"})]})]}),Object(l.jsx)("br",{}),Object(l.jsx)("table",{className:"table table-hover",children:Object(l.jsx)("tbody",{children:this.tabRow()})})]})}}]),n}(c.Component),D=N(),B=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(t){var c;return Object(h.a)(this,n),(c=e.call(this,t)).db=new _.a(D.DB_NAME),c.state={title:"",content:"",id:0},c}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=Number(this.props.match.params.id);this.db.version(D.DB_VERSION).stores(D.DB_STORE),this.get_item(t)}},{key:"get_item",value:function(){var t=Object(j.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.tasks.get(e);case 2:n=t.sent,this.setState({title:n.title,content:n.content});case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(r.b,{to:"/task",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h1",{children:"Edit - task"}),Object(l.jsxs)("div",{className:"form-group col-md-6",children:[Object(l.jsx)("label",{children:"Title :"}),Object(l.jsx)("br",{}),this.state.title]}),Object(l.jsxs)("div",{className:"form-group col-md-6",children:[Object(l.jsx)("label",{children:"content :"}),Object(l.jsx)("br",{}),this.state.content]})]})}}]),n}(c.Component),E=N(),M=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(t){var c;return Object(h.a)(this,n),(c=e.call(this,t)).db=new _.a(E.DB_NAME),c.state={title:"",content:"",id:0},c}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.db.version(E.DB_VERSION).stores(E.DB_STORE)}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.add_item()}},{key:"add_item",value:function(){console.log("addItem");var t=document.querySelector("#title"),e=document.querySelector("#content"),n={title:t.value,content:e.value,created_at:new Date};this.db.tasks.add(n),console.log(n),this.props.history.push("/tasks")}},{key:"render",value:function(){var t=this;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(r.b,{to:"/task",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h1",{className:"mt-2",children:"Create - Task"}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("label",{children:"Title:"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title"})]})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("label",{children:"Content:"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"content",id:"content"})]})}),Object(l.jsx)("div",{className:"form-group mt-2",children:Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return t.handleClick()},children:"Create"})})]})}}]),n}(c.Component),T=N(),R=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(t){var c;return Object(h.a)(this,n),(c=e.call(this,t)).db=new _.a(T.DB_NAME),c.state={title:"",content:"",id:0},c}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=Number(this.props.match.params.id);this.db.version(T.DB_VERSION).stores(T.DB_STORE),this.get_item(t),this.setState({id:t})}},{key:"get_item",value:function(){var t=Object(j.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.tasks.get(e);case 2:n=t.sent,this.setState({title:n.title,content:n.content}),console.log(n);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"update_item",value:function(){var t=document.querySelector("#title"),e=document.querySelector("#content"),n={title:t.value,content:e.value};console.log(n),this.db.tasks.update(this.state.id,n),this.props.history.push("/tasks")}},{key:"handleClickDelete",value:function(){this.db.tasks.delete(this.state.id),this.props.history.push("/tasks")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.update_item()}},{key:"render",value:function(){var t=this;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(r.b,{to:"/task",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h1",{children:"Edit - task"}),Object(l.jsxs)("div",{className:"form-group col-md-6",children:[Object(l.jsx)("label",{children:"Title"}),Object(l.jsx)("input",{type:"text",name:"title",id:"title",className:"form-control",defaultValue:this.state.title})]}),Object(l.jsxs)("div",{className:"form-group col-md-6",children:[Object(l.jsx)("label",{children:"Content"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"content",id:"content",defaultValue:this.state.content})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return t.handleClick()},children:"Save"})}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-outline-danger btn-sm mt-2",onClick:function(){return t.handleClickDelete()},children:"Delete"})})]})}}]),n}(c.Component),A=R,I=N(),Y=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(t){var c;return Object(h.a)(this,n),(c=e.call(this,t)).db=new _.a(I.DB_NAME),c.state={title:"",content:"",id:0},c}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.db.version(I.DB_VERSION).stores(I.DB_STORE);var t=this;window.addEventListener("load",(function(){document.querySelector("#file1").addEventListener("change",(function(){t.change_proc()}))}))}},{key:"change_proc",value:function(){console.log("#-change_proc");for(var t=this,e=document.querySelector("#file1").files,n=0;n<e.length;n++){var c=e[n];console.log("i: "+n),console.log("Name: "+c.name),console.log("Size: "+c.size),console.log("Type: "+c.type),console.log("Date: "+c.lastModified);var a=new FileReader;a.onload=function(){var e=Object(j.a)(u.a.mark((function e(n){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("State: "+n.target.readyState),c=n.target.result,a=JSON.parse(c||"[]"),e.next=5,t.add_item(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onerror=function(t){console.log(t.target.error.name)},a.readAsText(c,"utf-8")}}},{key:"add_item",value:function(){var t=Object(j.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,this.db.tasks.clear(),t.next=4,e.forEach((function(t){var e={title:t.title,content:t.content,created_at:new Date(t.created_at)};n.db.tasks.add(e)}));case 4:setTimeout((function(){alert("Complete ,import data success."),console.log("# timer.cb"),window.location.href="/tasks"}),1e3);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(r.b,{to:"/task",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h3",{className:"mt-2",children:"Tasks- import:"}),Object(l.jsx)("hr",{}),Object(l.jsx)("p",{children:"select , json file"}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"file",id:"file1",className:"btn btn-outline-primary"})}),Object(l.jsx)("br",{}),Object(l.jsx)("p",{children:"\u203b\u9023\u7d9a\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u5834\u5408\u3001\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u4e0b\u3055\u3044\u3002"})]})}}]),n}(c.Component),V=Y,q=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{children:[Object(l.jsx)(r.b,{to:"/todo_show/".concat(this.props.obj.id),children:Object(l.jsx)("h3",{children:this.props.obj.title})}),this.props.obj.created_at," , ID : ",this.props.obj.id]}),Object(l.jsx)("td",{children:Object(l.jsx)(r.b,{to:"/todo_edit/".concat(this.props.obj.id),className:"btn btn-sm btn-outline-primary",children:"Edit"})}),Object(l.jsx)("td",{})]})}}]),n}(c.Component),L=q,F=function(){return{DB_NAME:"todo_idx_kuc_db",DB_VERSION:1,DB_STORE:{todos:"++id, title, content , complete, created_at"}}},J=F(),z=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(t){var c;return Object(h.a)(this,n),(c=e.call(this,t)).db=new _.a(J.DB_NAME),c.state={data:[],type:0,items_org:[]},c}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.db.version(J.DB_VERSION).stores(J.DB_STORE),this.get_items(0)}},{key:"handleClickTypeNone",value:function(){this.setState({type:0}),this.get_items(0),this.change_complete_tab(0)}},{key:"handleClickTypeComplete",value:function(){this.setState({type:1}),this.get_items(1),this.change_complete_tab(1)}},{key:"change_complete_tab",value:function(t){console.log(t)}},{key:"get_items",value:function(){var t=Object(j.a)(u.a.mark((function t(e){var n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,this.db.todos.where({complete:e}).toArray();case 3:return n=t.sent,console.log(n),n=w.get_reverse_items(n),t.next=8,this.db.todos.toArray();case 8:c=t.sent,this.setState({data:n,items_org:c});case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleClickExport",value:function(){console.log("#-handleClickExport");var t=JSON.stringify(this.state.items_org);console.log(t);var e=new Blob([t],{type:"application/json"}),n="todos.json",c=window.navigator;c.msSaveBlob?(console.log("#-msSaveBlob"),c.msSaveBlob(e,n),c.msSaveOrOpenBlob(e,n)):(console.log("#-msSaveBlob-false"),document.querySelector("#download").href=window.URL.createObjectURL(e))}},{key:"tabRow",value:function(){if(this.state.data instanceof Array)return this.state.data.map((function(t,e){return Object(l.jsx)(L,{obj:t},e)}))}},{key:"render",value:function(){var t=this;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h3",{children:"Todo - index"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-6",children:Object(l.jsx)(r.b,{to:"/todo_create",className:"btn btn-sm btn-primary",children:"+ Create"})}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("a",{id:"download",href:"",download:"todos.json",onClick:function(){return t.handleClickExport()},className:"btn btn-outline-primary btn-sm",children:"Export"}),Object(l.jsx)(r.b,{to:"/todo_import",target:"_blank",className:"btn btn-sm btn-outline-primary ml-2",children:"Import"})]})]}),Object(l.jsxs)("ul",{className:"nav nav-tabs",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("button",{className:"nav-link active",id:"nav_complete_none_tab",onClick:function(){return t.handleClickTypeNone()},children:"\u672a\u5b8c"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("button",{className:"nav-link",id:"nav_complete_tab",onClick:function(){return t.handleClickTypeComplete()},children:"\u5b8c\u4e86"})})]}),Object(l.jsxs)("table",{className:"table table-hover",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Title"}),Object(l.jsx)("th",{children:"Actions"})]})}),Object(l.jsx)("tbody",{children:this.tabRow()})]})]})}}]),n}(c.Component),H=z,U=F(),P=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(t){var c;return Object(h.a)(this,n),(c=e.call(this,t)).db=new _.a(U.DB_NAME),c.state={title:"",content:""},c}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.db.version(U.DB_VERSION).stores(U.DB_STORE)}},{key:"add_item",value:function(){var t=document.querySelector("#title"),e=document.querySelector("#content"),n={title:t.value,content:e.value,complete:0,created_at:new Date};this.db.todos.add(n),this.props.history.push("/todos")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.add_item()}},{key:"render",value:function(){var t=this;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(r.b,{to:"/task",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h1",{className:"mt-2",children:"Todo - Create"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Title:"}),Object(l.jsx)("div",{className:"col-sm-6",children:Object(l.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title"})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Content:"}),Object(l.jsx)("div",{className:"col-sm-10",children:Object(l.jsx)("textarea",{className:"form-control",rows:10,name:"content",id:"content"})})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return t.handleClick()},children:"Create"})})]})}}]),n}(c.Component),G=n(16),K=n(24),Q=n.n(K),W=F(),X=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(t){var c;return Object(h.a)(this,n),(c=e.call(this,t)).db=new _.a(W.DB_NAME),c.state={title:"",content:"",type:0,created_at:"",id:0},c.handleClick=c.handleClick.bind(Object(G.a)(c)),c}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=Number(this.props.match.params.id);this.db=new _.a(W.DB_NAME),this.db.version(W.DB_VERSION).stores(W.DB_STORE),this.get_item(t)}},{key:"get_item",value:function(){var t=Object(j.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.todos.get(e);case 2:(n=t.sent).content=Q()(n.content),n.created_at=g(n.created_at,"YYYY-MM-DD hh:mm"),this.setState({title:n.title,content:n.content,type:n.complete,created_at:n.created_at}),console.log(n);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleClick",value:function(){console.log("#-handleClick")}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(r.b,{to:"/todo",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h1",{children:this.state.title}),"Date : ",this.state.created_at,Object(l.jsx)("hr",{}),Object(l.jsx)("div",{id:"post_item",dangerouslySetInnerHTML:{__html:this.state.content}})]})}}]),n}(c.Component),Z=X,$=F(),tt=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(t){var c;return Object(h.a)(this,n),(c=e.call(this,t)).db=new _.a($.DB_NAME),c.state={title:"",content:"",type:0,complete_btn_name:"\u5b8c\u4e86\u767b\u9332",id:0,created_at:""},c}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=parseInt(this.props.match.params.id);this.setState({id:t}),this.db=new _.a($.DB_NAME),this.db.version($.DB_VERSION).stores($.DB_STORE),this.get_item(t)}},{key:"get_item",value:function(){var t=Object(j.a)(u.a.mark((function t(e){var n,c,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.todos.get(e);case 2:n=t.sent,c="\u5b8c\u4e86\u767b\u9332",a=0,1===n.complete&&(c="\u672a\u5b8c\u306b\u623b\u3059",a=1),this.setState({title:n.title,content:n.content,complete_btn_name:c,type:a}),console.log(n);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"update_item",value:function(){var t=document.querySelector("#title"),e=document.querySelector("#content");this.db.todos.update(this.state.id,{title:t.value,content:e.value}),this.props.history.push("/todos")}},{key:"handleClickComplete",value:function(){var t=0;0===this.state.type&&(t=1),this.db.todos.update(this.state.id,{complete:t}),this.props.history.push("/todos")}},{key:"handleClickDelete",value:function(){this.db.todos.delete(this.state.id),this.props.history.push("/todos")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.update_item()}},{key:"render",value:function(){var t=this;return Object(l.jsxs)("div",{className:"container pb-4",children:[Object(l.jsx)(r.b,{to:"/todo",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h1",{children:"Todo - Edit"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-10"}),Object(l.jsx)("div",{className:"col-md-2"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Title"}),Object(l.jsx)("div",{className:"col-sm-6",children:Object(l.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title",defaultValue:this.state.title})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Content:"}),Object(l.jsx)("div",{className:"col-sm-10",children:Object(l.jsx)("textarea",{className:"form-control",defaultValue:this.state.content,rows:10,name:"content",id:"content"})})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return t.handleClick()},children:"Save"})}),Object(l.jsx)("hr",{}),Object(l.jsxs)("button",{className:"btn btn-outline-success btn-sm mt-2",onClick:function(){return t.handleClickComplete()},children:[" ",this.state.complete_btn_name]}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-outline-danger btn-sm mt-2",onClick:function(){return t.handleClickDelete()},children:"Delete"})}),Object(l.jsx)("hr",{className:"mb-4"})]})}}]),n}(c.Component),et=tt,nt=F(),ct=function(t){Object(p.a)(n,t);var e=Object(O.a)(n);function n(t){var c;return Object(h.a)(this,n),(c=e.call(this,t)).db=new _.a(nt.DB_NAME),c.state={title:"",content:""},c.handleClick=c.handleClick.bind(Object(G.a)(c)),c.db=null,c}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.db=new _.a(nt.DB_NAME),this.db.version(nt.DB_VERSION).stores(nt.DB_STORE);var t=this;window.addEventListener("load",(function(){window.document.getElementById("file1").addEventListener("change",(function(){t.change_proc()}))}))}},{key:"change_proc",value:function(){console.log("#-change_proc");for(var t=this,e=document.querySelector("#file1").files,n=0;n<e.length;n++){var c=e[n];console.log("i: "+n),console.log("Name: "+c.name),console.log("Size: "+c.size),console.log("Type: "+c.type),console.log("Date: "+c.lastModified);var a=new FileReader;a.onload=function(){var e=Object(j.a)(u.a.mark((function e(n){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("State: "+n.target.readyState),c=n.target.result,a=JSON.parse(c||"[]"),console.log(a),e.next=6,t.add_item(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onerror=function(t){console.log(t.target.error.name)},a.readAsText(c,"utf-8")}}},{key:"add_item",value:function(){var t=Object(j.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,this.db.todos.clear(),t.next=4,e.forEach((function(t){var e={title:t.title,content:t.content,complete:t.complete,created_at:new Date(t.created_at)};n.db.todos.add(e)}));case 4:setTimeout((function(){alert("Complete ,import data success."),console.log("# timer.cb"),window.location.href="/"}),1e3);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleClick",value:function(){console.log("#-handleClick")}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(r.b,{to:"/todo",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h3",{className:"mt-2",children:"Todo- import:"}),Object(l.jsx)("hr",{}),Object(l.jsx)("p",{children:"select , json file"}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"file",id:"file1",className:"btn btn-outline-primary"})}),Object(l.jsx)("br",{}),Object(l.jsx)("p",{children:"\u203b\u9023\u7d9a\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u5834\u5408\u3001\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u4e0b\u3055\u3044\u3002"})]})}}]),n}(c.Component),at=ct;var st=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(r.a,{children:Object(l.jsxs)("div",{children:[Object(l.jsx)(x,{}),Object(l.jsx)(i.a,{exact:!0,path:"/",component:d}),Object(l.jsx)(i.a,{path:"/test",component:v}),Object(l.jsx)(i.a,{exact:!0,path:"/tasks",component:S}),Object(l.jsx)(i.a,{exact:!0,path:"/task_create",component:M}),Object(l.jsx)(i.a,{path:"/task_show/:id",component:B}),Object(l.jsx)(i.a,{path:"/task_edit/:id",component:A}),Object(l.jsx)(i.a,{exact:!0,path:"/task_import",component:V}),Object(l.jsx)(i.a,{exact:!0,path:"/todos",component:H}),Object(l.jsx)(i.a,{exact:!0,path:"/todo_create",component:P}),Object(l.jsx)(i.a,{path:"/todo_show/:id",component:Z}),Object(l.jsx)(i.a,{path:"/todo_edit/:id",component:et}),Object(l.jsx)(i.a,{path:"/todo_import",component:at})]})})})},ot=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,s=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),s(t),o(t)}))};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(st,{})}),document.getElementById("root")),ot()}},[[40,1,2]]]);
//# sourceMappingURL=main.c955a83d.chunk.js.map