(this.webpackJsonpreact_ts=this.webpackJsonpreact_ts||[]).push([[0],{31:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(23),o=c.n(s),i=(c(31),c(2)),r=c(9),l=c(0);var d=function(){return Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("h3",{children:"Home"})})},b=c(8),j=c.n(b),h=c(10),u=c(3),m=c(4),p=c(6),O=c(5);var x=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(){return Object(u.a)(this,c),t.apply(this,arguments)}return Object(m.a)(c,[{key:"componentDidMount",value:function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h3",{children:"Test111"}),Object(l.jsx)("hr",{})]})}}]),c}(a.a.Component),v=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(){return Object(u.a)(this,c),t.apply(this,arguments)}return Object(m.a)(c,[{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(i.b,{to:"/",children:"[ Home ] "}),Object(l.jsx)(i.b,{to:"/tasks",className:"ml-2",children:"[ Task ] "}),Object(l.jsx)(i.b,{to:"/todos",className:"ml-2",children:"[ Todo ] "}),Object(l.jsx)(i.b,{to:"/books",className:"ml-2",children:"[ Book ] "})]}),Object(l.jsx)("hr",{className:"mb-0"})]})}}]),c}(a.a.Component),f=v,k=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(){return Object(u.a)(this,c),t.apply(this,arguments)}return Object(m.a)(c,[{key:"render",value:function(){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:this.props.obj.id}),Object(l.jsx)("td",{children:this.props.obj.title}),Object(l.jsx)("td",{children:this.props.obj.content}),Object(l.jsxs)("td",{children:[Object(l.jsx)(i.b,{to:"/task_show/".concat(this.props.obj.id),className:"btn btn-sm btn-outline-primary",children:"Show"}),Object(l.jsx)(i.b,{to:"/task_edit/".concat(this.props.obj.id),className:"btn btn-sm btn-outline-primary",children:"Edit"})]}),Object(l.jsx)("td",{})]})}}]),c}(n.Component),_=k,y=c(7),N=function(){return{DB_NAME:"task_idx_kuc_db",DB_VERSION:1,DB_STORE:{tasks:"++id, title, content ,created_at"}}},g=function(e,t){if(t||(t="YYYY-MM-DD hh:mm:ss.SSS"),(t=(t=(t=(t=(t=(t=t.replace(/YYYY/g,e.getFullYear())).replace(/MM/g,("0"+(e.getMonth()+1)).slice(-2))).replace(/DD/g,("0"+e.getDate()).slice(-2))).replace(/hh/g,("0"+e.getHours()).slice(-2))).replace(/mm/g,("0"+e.getMinutes()).slice(-2))).replace(/ss/g,("0"+e.getSeconds()).slice(-2))).match(/S/g))for(var c=("00"+e.getMilliseconds()).slice(-3),n=t.match(/S/g).length,a=0;a<n;a++)t=t.replace(/S/,c.substring(a,a+1));return t},C={get_item:function(e,t){var c=null;return e.forEach((function(e){e.id===t&&(c=e)})),c},get_reverse_items:function(e){var t=[];return e.forEach((function(e){var c=e.created_at;c=g(c,"YYYY-MM-DD hh:mm"),e.created_at=c,t.unshift(e)})),t}},S=N(),D=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a(S.DB_NAME),n.state={data:[]},n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){console.log(S.DB_NAME),this.db.version(S.DB_VERSION).stores(S.DB_STORE),this.get_items()}},{key:"get_items",value:function(){var e=this;this.db.tasks.toArray().then((function(t){var c=C.get_reverse_items(t);e.setState({data:c}),console.log(c)}))}},{key:"tabRow",value:function(){if(this.state.data instanceof Array)return this.state.data.map((function(e,t){return Object(l.jsx)(_,{obj:e},t)}))}},{key:"handleClickExport",value:function(){console.log("handleClickExport");var e=JSON.stringify(this.state.data),t=new Blob([e],{type:"application/json"}),c="tasks.json",n=window.navigator;n.msSaveBlob?(console.log("#-msSaveBlob"),n.msSaveBlob(t,c),n.msSaveOrOpenBlob(t,c)):(console.log("#-msSaveBlob-false"),document.querySelector("#download").href=window.URL.createObjectURL(t))}},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h3",{children:"Task - index"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-6",children:Object(l.jsx)(i.b,{to:"/task_create",className:"btn btn-sm btn-primary",children:"+ Create"})}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("a",{id:"download",href:"",download:"tasks.json",onClick:function(){return e.handleClickExport()},className:"btn btn-outline-primary btn-sm",children:"Export"}),Object(l.jsx)(i.b,{to:"/task_import",target:"_blank",className:"btn btn-sm btn-outline-primary ml-2",children:"Import"})]})]}),Object(l.jsx)("br",{}),Object(l.jsx)("table",{className:"table table-hover",children:Object(l.jsx)("tbody",{children:this.tabRow()})})]})}}]),c}(n.Component),w=N(),B=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a(w.DB_NAME),n.state={title:"",content:"",id:0},n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){var e=Number(this.props.match.params.id);this.db.version(w.DB_VERSION).stores(w.DB_STORE),this.get_item(e)}},{key:"get_item",value:function(){var e=Object(h.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.tasks.get(t);case 2:c=e.sent,this.setState({title:c.title,content:c.content});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(i.b,{to:"/task",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h1",{children:"Edit - task"}),Object(l.jsxs)("div",{className:"form-group col-md-6",children:[Object(l.jsx)("label",{children:"Title :"}),Object(l.jsx)("br",{}),this.state.title]}),Object(l.jsxs)("div",{className:"form-group col-md-6",children:[Object(l.jsx)("label",{children:"content :"}),Object(l.jsx)("br",{}),this.state.content]})]})}}]),c}(n.Component),E=N(),M=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a(E.DB_NAME),n.state={title:"",content:"",id:0},n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){this.db.version(E.DB_VERSION).stores(E.DB_STORE)}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.add_item()}},{key:"add_item",value:function(){console.log("addItem");var e=document.querySelector("#title"),t=document.querySelector("#content"),c={title:e.value,content:t.value,created_at:new Date};this.db.tasks.add(c),console.log(c),this.props.history.push("/tasks")}},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(i.b,{to:"/task",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h1",{className:"mt-2",children:"Create - Task"}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("label",{children:"Title:"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title"})]})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("label",{children:"Content:"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"content",id:"content"})]})}),Object(l.jsx)("div",{className:"form-group mt-2",children:Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.handleClick()},children:"Create"})})]})}}]),c}(n.Component),T=N(),R=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a(T.DB_NAME),n.state={title:"",content:"",id:0},n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){var e=Number(this.props.match.params.id);this.db.version(T.DB_VERSION).stores(T.DB_STORE),this.get_item(e),this.setState({id:e})}},{key:"get_item",value:function(){var e=Object(h.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.tasks.get(t);case 2:c=e.sent,this.setState({title:c.title,content:c.content}),console.log(c);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update_item",value:function(){var e=document.querySelector("#title"),t=document.querySelector("#content"),c={title:e.value,content:t.value};console.log(c),this.db.tasks.update(this.state.id,c),this.props.history.push("/tasks")}},{key:"handleClickDelete",value:function(){this.db.tasks.delete(this.state.id),this.props.history.push("/tasks")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.update_item()}},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(i.b,{to:"/task",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h1",{children:"Edit - task"}),Object(l.jsxs)("div",{className:"form-group col-md-6",children:[Object(l.jsx)("label",{children:"Title"}),Object(l.jsx)("input",{type:"text",name:"title",id:"title",className:"form-control",defaultValue:this.state.title})]}),Object(l.jsxs)("div",{className:"form-group col-md-6",children:[Object(l.jsx)("label",{children:"Content"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"content",id:"content",defaultValue:this.state.content})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.handleClick()},children:"Save"})}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-outline-danger btn-sm mt-2",onClick:function(){return e.handleClickDelete()},children:"Delete"})})]})}}]),c}(n.Component),A=R,q=N(),I=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a(q.DB_NAME),n.state={title:"",content:"",id:0},n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){this.db.version(q.DB_VERSION).stores(q.DB_STORE);var e=this;window.addEventListener("load",(function(){document.querySelector("#file1").addEventListener("change",(function(){e.change_proc()}))}))}},{key:"change_proc",value:function(){console.log("#-change_proc");for(var e=this,t=document.querySelector("#file1").files,c=0;c<t.length;c++){var n=t[c];console.log("i: "+c),console.log("Name: "+n.name),console.log("Size: "+n.size),console.log("Type: "+n.type),console.log("Date: "+n.lastModified);var a=new FileReader;a.onload=function(){var t=Object(h.a)(j.a.mark((function t(c){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("State: "+c.target.readyState),n=c.target.result,a=JSON.parse(n||"[]"),t.next=5,e.add_item(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.onerror=function(e){console.log(e.target.error.name)},a.readAsText(n,"utf-8")}}},{key:"add_item",value:function(){var e=Object(h.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=this,this.db.tasks.clear(),e.next=4,t.forEach((function(e){var t={title:e.title,content:e.content,created_at:new Date(e.created_at)};c.db.tasks.add(t)}));case 4:setTimeout((function(){alert("Complete ,import data success."),console.log("# timer.cb"),window.location.href="/tasks"}),1e3);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(i.b,{to:"/task",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h3",{className:"mt-2",children:"Tasks- import:"}),Object(l.jsx)("hr",{}),Object(l.jsx)("p",{children:"select , json file"}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"file",id:"file1",className:"btn btn-outline-primary"})}),Object(l.jsx)("br",{}),Object(l.jsx)("p",{children:"\u203b\u9023\u7d9a\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u5834\u5408\u3001\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u4e0b\u3055\u3044\u3002"})]})}}]),c}(n.Component),Y=I,V=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(){return Object(u.a)(this,c),t.apply(this,arguments)}return Object(m.a)(c,[{key:"render",value:function(){return Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{children:[Object(l.jsx)(i.b,{to:"/todo_show/".concat(this.props.obj.id),children:Object(l.jsx)("h3",{children:this.props.obj.title})}),this.props.obj.created_at," , ID : ",this.props.obj.id]}),Object(l.jsx)("td",{children:Object(l.jsx)(i.b,{to:"/todo_edit/".concat(this.props.obj.id),className:"btn btn-sm btn-outline-primary",children:"Edit"})}),Object(l.jsx)("td",{})]})}}]),c}(n.Component),L=V,F=function(){return{DB_NAME:"todo_idx_kuc_db",DB_VERSION:1,DB_STORE:{todos:"++id, title, content , complete, created_at"}}},J=F(),z=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a(J.DB_NAME),n.state={data:[],type:0,items_org:[]},n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){this.db.version(J.DB_VERSION).stores(J.DB_STORE),this.get_items(0)}},{key:"handleClickTypeNone",value:function(){this.setState({type:0}),this.get_items(0),this.change_complete_tab(0)}},{key:"handleClickTypeComplete",value:function(){this.setState({type:1}),this.get_items(1),this.change_complete_tab(1)}},{key:"change_complete_tab",value:function(e){console.log(e)}},{key:"get_items",value:function(){var e=Object(h.a)(j.a.mark((function e(t){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.db.todos.where({complete:t}).toArray();case 3:return c=e.sent,console.log(c),c=C.get_reverse_items(c),e.next=8,this.db.todos.toArray();case 8:n=e.sent,this.setState({data:c,items_org:n});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClickExport",value:function(){console.log("#-handleClickExport");var e=JSON.stringify(this.state.items_org);console.log(e);var t=new Blob([e],{type:"application/json"}),c="todos.json",n=window.navigator;n.msSaveBlob?(console.log("#-msSaveBlob"),n.msSaveBlob(t,c),n.msSaveOrOpenBlob(t,c)):(console.log("#-msSaveBlob-false"),document.querySelector("#download").href=window.URL.createObjectURL(t))}},{key:"tabRow",value:function(){if(this.state.data instanceof Array)return this.state.data.map((function(e,t){return Object(l.jsx)(L,{obj:e},t)}))}},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h3",{children:"Todo - index"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-6",children:Object(l.jsx)(i.b,{to:"/todo_create",className:"btn btn-sm btn-primary",children:"+ Create"})}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("a",{id:"download",href:"",download:"todos.json",onClick:function(){return e.handleClickExport()},className:"btn btn-outline-primary btn-sm",children:"Export"}),Object(l.jsx)(i.b,{to:"/todo_import",target:"_blank",className:"btn btn-sm btn-outline-primary ml-2",children:"Import"})]})]}),Object(l.jsxs)("ul",{className:"nav nav-tabs",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("button",{className:"nav-link active",id:"nav_complete_none_tab",onClick:function(){return e.handleClickTypeNone()},children:"\u672a\u5b8c"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("button",{className:"nav-link",id:"nav_complete_tab",onClick:function(){return e.handleClickTypeComplete()},children:"\u5b8c\u4e86"})})]}),Object(l.jsxs)("table",{className:"table table-hover",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Title"}),Object(l.jsx)("th",{children:"Actions"})]})}),Object(l.jsx)("tbody",{children:this.tabRow()})]})]})}}]),c}(n.Component),H=z,U=F(),P=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a(U.DB_NAME),n.state={title:"",content:""},n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){this.db.version(U.DB_VERSION).stores(U.DB_STORE)}},{key:"add_item",value:function(){var e=document.querySelector("#title"),t=document.querySelector("#content"),c={title:e.value,content:t.value,complete:0,created_at:new Date};this.db.todos.add(c),this.props.history.push("/todos")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.add_item()}},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(i.b,{to:"/task",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h1",{className:"mt-2",children:"Todo - Create"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Title:"}),Object(l.jsx)("div",{className:"col-sm-6",children:Object(l.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title"})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Content:"}),Object(l.jsx)("div",{className:"col-sm-10",children:Object(l.jsx)("textarea",{className:"form-control",rows:10,name:"content",id:"content"})})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.handleClick()},children:"Create"})})]})}}]),c}(n.Component),Z=c(15),G=c(26),K=c.n(G),Q=F(),W=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a(Q.DB_NAME),n.state={title:"",content:"",type:0,created_at:"",id:0},n.handleClick=n.handleClick.bind(Object(Z.a)(n)),n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){var e=Number(this.props.match.params.id);this.db=new y.a(Q.DB_NAME),this.db.version(Q.DB_VERSION).stores(Q.DB_STORE),this.get_item(e)}},{key:"get_item",value:function(){var e=Object(h.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.todos.get(t);case 2:(c=e.sent).content=K()(c.content),c.created_at=g(c.created_at,"YYYY-MM-DD hh:mm"),this.setState({title:c.title,content:c.content,type:c.complete,created_at:c.created_at}),console.log(c);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(){console.log("#-handleClick")}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(i.b,{to:"/todo",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h1",{children:this.state.title}),"Date : ",this.state.created_at,Object(l.jsx)("hr",{}),Object(l.jsx)("div",{id:"post_item",dangerouslySetInnerHTML:{__html:this.state.content}})]})}}]),c}(n.Component),X=W,$=F(),ee=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a($.DB_NAME),n.state={title:"",content:"",type:0,complete_btn_name:"\u5b8c\u4e86\u767b\u9332",id:0,created_at:""},n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){var e=parseInt(this.props.match.params.id);this.setState({id:e}),this.db=new y.a($.DB_NAME),this.db.version($.DB_VERSION).stores($.DB_STORE),this.get_item(e)}},{key:"get_item",value:function(){var e=Object(h.a)(j.a.mark((function e(t){var c,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.todos.get(t);case 2:c=e.sent,n="\u5b8c\u4e86\u767b\u9332",a=0,1===c.complete&&(n="\u672a\u5b8c\u306b\u623b\u3059",a=1),this.setState({title:c.title,content:c.content,complete_btn_name:n,type:a}),console.log(c);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update_item",value:function(){var e=document.querySelector("#title"),t=document.querySelector("#content");this.db.todos.update(this.state.id,{title:e.value,content:t.value}),this.props.history.push("/todos")}},{key:"handleClickComplete",value:function(){var e=0;0===this.state.type&&(e=1),this.db.todos.update(this.state.id,{complete:e}),this.props.history.push("/todos")}},{key:"handleClickDelete",value:function(){this.db.todos.delete(this.state.id),this.props.history.push("/todos")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.update_item()}},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{className:"container pb-4",children:[Object(l.jsx)(i.b,{to:"/todo",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h1",{children:"Todo - Edit"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-10"}),Object(l.jsx)("div",{className:"col-md-2"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Title"}),Object(l.jsx)("div",{className:"col-sm-6",children:Object(l.jsx)("input",{type:"text",className:"form-control",name:"title",id:"title",defaultValue:this.state.title})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Content:"}),Object(l.jsx)("div",{className:"col-sm-10",children:Object(l.jsx)("textarea",{className:"form-control",defaultValue:this.state.content,rows:10,name:"content",id:"content"})})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.handleClick()},children:"Save"})}),Object(l.jsx)("hr",{}),Object(l.jsxs)("button",{className:"btn btn-outline-success btn-sm mt-2",onClick:function(){return e.handleClickComplete()},children:[" ",this.state.complete_btn_name]}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-outline-danger btn-sm mt-2",onClick:function(){return e.handleClickDelete()},children:"Delete"})}),Object(l.jsx)("hr",{className:"mb-4"})]})}}]),c}(n.Component),te=ee,ce=F(),ne=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a(ce.DB_NAME),n.state={title:"",content:""},n.handleClick=n.handleClick.bind(Object(Z.a)(n)),n.db=null,n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){this.db=new y.a(ce.DB_NAME),this.db.version(ce.DB_VERSION).stores(ce.DB_STORE);var e=this;window.addEventListener("load",(function(){window.document.getElementById("file1").addEventListener("change",(function(){e.change_proc()}))}))}},{key:"change_proc",value:function(){console.log("#-change_proc");for(var e=this,t=document.querySelector("#file1").files,c=0;c<t.length;c++){var n=t[c];console.log("i: "+c),console.log("Name: "+n.name),console.log("Size: "+n.size),console.log("Type: "+n.type),console.log("Date: "+n.lastModified);var a=new FileReader;a.onload=function(){var t=Object(h.a)(j.a.mark((function t(c){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("State: "+c.target.readyState),n=c.target.result,a=JSON.parse(n||"[]"),console.log(a),t.next=6,e.add_item(a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.onerror=function(e){console.log(e.target.error.name)},a.readAsText(n,"utf-8")}}},{key:"add_item",value:function(){var e=Object(h.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=this,this.db.todos.clear(),e.next=4,t.forEach((function(e){var t={title:e.title,content:e.content,complete:e.complete,created_at:new Date(e.created_at)};c.db.todos.add(t)}));case 4:setTimeout((function(){alert("Complete ,import data success."),console.log("# timer.cb"),window.location.href="/"}),1e3);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(){console.log("#-handleClick")}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(i.b,{to:"/todo",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h3",{className:"mt-2",children:"Todo- import:"}),Object(l.jsx)("hr",{}),Object(l.jsx)("p",{children:"select , json file"}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"file",id:"file1",className:"btn btn-outline-primary"})}),Object(l.jsx)("br",{}),Object(l.jsx)("p",{children:"\u203b\u9023\u7d9a\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u5834\u5408\u3001\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u4e0b\u3055\u3044\u3002"})]})}}]),c}(n.Component),ae=ne,se=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(){return Object(u.a)(this,c),t.apply(this,arguments)}return Object(m.a)(c,[{key:"render",value:function(){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:this.props.obj.id}),Object(l.jsx)("td",{children:this.props.obj.title}),Object(l.jsx)("td",{children:Object(l.jsx)(i.b,{to:"/book_edit/".concat(this.props.obj.id),className:"btn btn-sm btn-outline-primary",children:"Edit"})})]})}}]),c}(n.Component),oe=se,ie=function(){return{DB_NAME:"book_idx_kuc_db",DB_VERSION:1,DB_STORE:{books:"++id, title, content , type, radio_1, check_1, check_2, date_1,created_at"}}},re=ie(),le=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a(re.DB_NAME),n.state={data:[]},n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){this.db=new y.a(re.DB_NAME),this.db.version(re.DB_VERSION).stores(re.DB_STORE),this.get_items()}},{key:"get_items",value:function(){var e=this;this.db.books.toArray().then((function(t){var c=C.get_reverse_items(t);e.setState({data:c})}))}},{key:"tabRow",value:function(){if(this.state.data instanceof Array)return this.state.data.map((function(e,t){return Object(l.jsx)(oe,{obj:e},t)}))}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h3",{children:"Book - index"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsxs)("div",{className:"row mb-2",children:[Object(l.jsx)("div",{className:"col-md-6",children:Object(l.jsx)(i.b,{to:"/book_create",className:"btn btn-sm btn-primary",children:"+ Create"})}),Object(l.jsx)("div",{className:"col-md-6"})]}),Object(l.jsxs)("table",{className:"table table-hover",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"ID"}),Object(l.jsx)("th",{children:"Title"}),Object(l.jsx)("th",{children:"Actions"})]})}),Object(l.jsx)("tbody",{children:this.tabRow()})]})]})}}]),c}(n.Component),de=c(18),be=c(19),je=c.n(be),he=ie(),ue=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a(he.DB_NAME),n.state={title:"",content:"",type:0,radio_1:1,check_1:!1,check_2:!1,date_1:null},n.handleClick=n.handleClick.bind(Object(Z.a)(n)),n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){this.db=new y.a(he.DB_NAME),this.db.version(he.DB_VERSION).stores(he.DB_STORE);var e=je()().format("YYYY-MM-DD");console.log(e),document.querySelector("#date_1").value=e,this.setState({date_1:e})}},{key:"add_item",value:function(){var e,t=document.querySelector("#title"),c=document.querySelector("#content"),n=document.querySelector("#type_1"),a=document.querySelector("#date_1").value+"T00:00:00.000Z",s=document.querySelectorAll('input[name="radio_1"]'),o="",i=Object(de.a)(s);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.checked&&(o=r.value)}}catch(j){i.e(j)}finally{i.f()}var l=document.querySelector("#check_1"),d=document.querySelector("#check_2"),b={title:t.value,content:c.value,type:n.value,date_1:new Date(a),radio_1:o,check_1:l.checked,check_2:d.checked,created_at:new Date};this.db.books.add(b),console.log(b),this.props.history.push("/books")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.add_item()}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"container pb-4",children:[Object(l.jsx)(i.b,{to:"/book",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h3",{className:"mt-2",children:"Book - Create"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Title:"}),Object(l.jsx)("div",{className:"col-sm-6",children:Object(l.jsx)("input",{type:"text",name:"title",id:"title",className:"form-control"})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Content:"}),Object(l.jsx)("div",{className:"col-sm-8",children:Object(l.jsx)("textarea",{name:"content",id:"content",className:"form-control",rows:3})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Type:"}),Object(l.jsx)("div",{className:"col-sm-6",children:Object(l.jsxs)("select",{name:"type_1",id:"type_1",defaultValue:this.state.type,className:"form-select",children:[Object(l.jsx)("option",{value:"0",children:"select please"}),Object(l.jsx)("option",{value:"1",children:"option-1"}),Object(l.jsx)("option",{value:"2",children:"option-2"}),Object(l.jsx)("option",{value:"3",children:"option-3"})]})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Date:"}),Object(l.jsx)("div",{className:"col-sm-6",children:Object(l.jsx)("input",{type:"date",name:"date_1",id:"date_1",className:"form-control"})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Radio:"}),Object(l.jsxs)("div",{className:"col-sm-6",children:[Object(l.jsx)("input",{type:"radio",name:"radio_1",value:"1",defaultChecked:!0})," radio-1",Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"radio",name:"radio_1",value:"2"})," radio-2",Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"radio",name:"radio_1",value:"3"})," radio-3",Object(l.jsx)("br",{})]})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Checkbox:"}),Object(l.jsxs)("div",{className:"col-sm-6",children:[Object(l.jsx)("input",{type:"checkbox",name:"check_1",id:"check_1",defaultChecked:this.state.check_1})," check_1  ",Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"checkbox",name:"check_2",id:"check_2",defaultChecked:this.state.check_2})," check_2  ",Object(l.jsx)("br",{})]})]}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-primary",onClick:this.handleClick,children:"Create"})}),Object(l.jsx)("hr",{className:"mb-4"})]})}}]),c}(n.Component),me=ie(),pe=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).db=new y.a(me.DB_NAME),n.state={title:"",content:"",type:0,radio_1:1,check_1:!1,check_2:!1,date_1:null,id:0},n.handleClick=n.handleClick.bind(Object(Z.a)(n)),n.handleClickDelete=n.handleClickDelete.bind(Object(Z.a)(n)),n}return Object(m.a)(c,[{key:"componentDidMount",value:function(){var e=Number(this.props.match.params.id);this.db=new y.a(me.DB_NAME),this.db.version(me.DB_VERSION).stores(me.DB_STORE),this.get_item(e)}},{key:"get_item",value:function(){var e=Object(h.a)(j.a.mark((function e(t){var c,n,a,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.books.get(t);case 2:c=e.sent,this.setState({id:t,title:c.title,content:c.content,type:c.type,radio_1:c.radio_1,check_1:c.check_1,check_2:c.check_2,date_1:je()(c.date_1).format("YYYY-MM-DD")}),document.querySelector("#type_1").value=c.type,n=document.querySelectorAll('input[name="radio_1"]'),a=Object(de.a)(n);try{for(a.s();!(s=a.n()).done;)(o=s.value).value===c.radio_1&&(o.checked=!0)}catch(i){a.e(i)}finally{a.f()}document.querySelector("#check_1").checked=c.check_1,document.querySelector("#check_2").checked=c.check_2;case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update_item",value:function(){var e,t=document.querySelector("#title"),c=document.querySelector("#content"),n=document.querySelector("#type_1"),a=document.querySelector("#date_1").value+"T00:00:00.000Z",s=document.querySelectorAll('input[name="radio_1"]'),o="",i=Object(de.a)(s);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.checked&&(o=r.value)}}catch(j){i.e(j)}finally{i.f()}var l=document.querySelector("#check_1"),d=document.querySelector("#check_2"),b={title:t.value,content:c.value,type:n.value,date_1:new Date(a),radio_1:o,check_1:l.checked,check_2:d.checked};console.log(b),this.db.books.update(this.state.id,b),this.props.history.push("/books")}},{key:"handleClickDelete",value:function(){this.db.books.delete(this.state.id),this.props.history.push("/books")}},{key:"handleClick",value:function(){console.log("#-handleClick"),this.update_item()}},{key:"render",value:function(){return console.log(this.state),Object(l.jsxs)("div",{className:"container pb-4",children:[Object(l.jsx)(i.b,{to:"/book",className:"btn btn-outline-primary mt-2",children:"Back"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsx)("h3",{children:"Book - Edit"}),Object(l.jsx)("hr",{className:"mt-2 mb-2"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Title:"}),Object(l.jsx)("div",{className:"col-sm-6",children:Object(l.jsx)("input",{type:"text",className:"form-control",defaultValue:this.state.title,name:"title",id:"title"})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Content:"}),Object(l.jsx)("div",{className:"col-sm-8",children:Object(l.jsx)("textarea",{name:"content",id:"content",className:"form-control",rows:3,defaultValue:this.state.content})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Type:"}),Object(l.jsx)("div",{className:"col-sm-6",children:Object(l.jsxs)("select",{className:"form-select",id:"type_1",children:[Object(l.jsx)("option",{value:"0",children:"select please"}),Object(l.jsx)("option",{value:"1",children:"option-1"}),Object(l.jsx)("option",{value:"2",children:"option-2"}),Object(l.jsx)("option",{value:"3",children:"option-3"})]})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Date:"}),Object(l.jsx)("div",{className:"col-sm-6",children:Object(l.jsx)("input",{type:"date",name:"date_1",id:"date_1",className:"form-control",defaultValue:this.state.date_1})})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Radio:"}),Object(l.jsxs)("div",{className:"col-sm-6",children:[Object(l.jsx)("input",{type:"radio",name:"radio_1",value:"1"})," radio-1",Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"radio",name:"radio_1",value:"2"})," radio-2",Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"radio",name:"radio_1",value:"3"})," radio-3",Object(l.jsx)("br",{})]})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Checkbox:"}),Object(l.jsxs)("div",{className:"col-sm-6",children:[Object(l.jsx)("input",{type:"checkbox",name:"check_1",id:"check_1",defaultChecked:this.state.check_1})," check_1  ",Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"checkbox",name:"check_2",id:"check_2",defaultChecked:this.state.check_2})," check_2  ",Object(l.jsx)("br",{})]})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-primary",onClick:this.handleClick,children:"Save"})}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{className:"btn btn-outline-danger btn-sm mt-2",onClick:this.handleClickDelete,children:"Delete"})}),Object(l.jsx)("hr",{className:"mb-4"})]})}}]),c}(n.Component),Oe=pe;var xe=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(i.a,{children:Object(l.jsxs)("div",{children:[Object(l.jsx)(f,{}),Object(l.jsx)(r.a,{exact:!0,path:"/",component:d}),Object(l.jsx)(r.a,{path:"/test",component:x}),Object(l.jsx)(r.a,{exact:!0,path:"/tasks",component:D}),Object(l.jsx)(r.a,{exact:!0,path:"/task_create",component:M}),Object(l.jsx)(r.a,{path:"/task_show/:id",component:B}),Object(l.jsx)(r.a,{path:"/task_edit/:id",component:A}),Object(l.jsx)(r.a,{exact:!0,path:"/task_import",component:Y}),Object(l.jsx)(r.a,{exact:!0,path:"/todos",component:H}),Object(l.jsx)(r.a,{exact:!0,path:"/todo_create",component:P}),Object(l.jsx)(r.a,{path:"/todo_show/:id",component:X}),Object(l.jsx)(r.a,{path:"/todo_edit/:id",component:te}),Object(l.jsx)(r.a,{path:"/todo_import",component:ae}),Object(l.jsx)(r.a,{exact:!0,path:"/books",component:le}),Object(l.jsx)(r.a,{path:"/book_create",component:ue}),Object(l.jsx)(r.a,{path:"/book_edit/:id",component:Oe})]})})})},ve=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,44)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),s(e),o(e)}))};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(xe,{})}),document.getElementById("root")),ve()}},[[43,1,2]]]);
//# sourceMappingURL=main.10352b14.chunk.js.map